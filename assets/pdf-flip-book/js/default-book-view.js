function init(n){var o;if(window.jQuery){var e=window.jQuery;o={floatWnd:n.find(".float-wnd"),binds:{showDropMenu:function(o){o.preventDefault();for(var d=e(o.target);!d.hasClass("toggle");)d=e(d[0].parentNode);var s=d.find(".menu");s.hasClass("hidden")&&(n.find(".ctrl .fnavbar .menu").addClass("hidden"),s.removeClass("hidden"),o.stopPropagation())},hideDropMenu:function(){n.find(".ctrl .fnavbar .menu").addClass("hidden")},pickFloatWnd:function(n){o.pos?o.binds.dropFloatWnd():o.pos={x:n.pageX,y:n.pageY}},moveFloatWnd:function(n){if(o.pos){var e={x:n.pageX-o.pos.x,y:n.pageY-o.pos.y},d={x:parseInt(o.floatWnd.css("left")),y:parseInt(o.floatWnd.css("top"))};o.floatWnd.css("left",d.x+e.x+"px").css("top",d.y+e.y+"px"),o.pos={x:n.pageX,y:n.pageY}}},dropFloatWnd:function(){delete o.pos},jsCenter:function(){for(var o=n.find(".js-center"),d=0;d<o.length;++d){var s=e(o[d]),t=e(o[d].parentNode).width(),i=s.width();s.css("left",.5*(t-i)+"px")}}},appLoaded:function(){o.binds.jsCenter()},linkLoaded:function(n){o.binds.jsCenter()},dispose:function(){n.find(".ctrl .fnavbar .fnav .toggle").off("click",o.binds.showDropMenu),e(n[0].ownerDocument).off("click",o.binds.hideDropMenu),e(n[0].ownerDocument).off("mousemove",o.binds.moveFloatWnd),e(n[0].ownerDocument).off("mouseup",o.binds.dropFloatWnd),o.floatWnd.find(".header").off("mousedown",o.binds.pickFloatWnd),e(n[0].ownerDocument.defaultView).off("resize",o.binds.jsCenter)}},n.find(".ctrl .fnavbar .fnav .toggle").on("click",o.binds.showDropMenu),e(n[0].ownerDocument).on("click",o.binds.hideDropMenu),e(n[0].ownerDocument).on("mousemove",o.binds.moveFloatWnd),e(n[0].ownerDocument).on("mouseup",o.binds.dropFloatWnd),o.floatWnd.find(".header").on("mousedown",o.binds.pickFloatWnd),e(n[0].ownerDocument.defaultView).on("resize",o.binds.jsCenter),o.binds.jsCenter()}else o={dispose:function(){}},console.error("jQuery is not found");return o}