(function(){"use strict";/**
 * @package     EmbedPress
 * @author      EmbedPress <help@embedpress.com>
 * @copyright   Copyright (C) 2018 EmbedPress. All rights reserved.
 * @license     GPLv2 or later
 * @since       1.7.0
 */(function(e){wp.i18n.__,e(document).on("click",".embedpress-plugin-notice-dismissible.is-dismissible",function(){var c={action:"embedpress_notice_dismiss",security:EMBEDPRESS_ADMIN_PARAMS.nonce};e.post(EMBEDPRESS_ADMIN_PARAMS.ajaxurl,c,function(){})})})(jQuery);const p=document.querySelectorAll(".range-control"),h=document.querySelector(".sponsored-active_btn"),u=document.querySelector(".btn-video"),m=document.querySelector(".btn-img"),k=document.querySelector(".video-body"),L=document.querySelector(".img-body"),f=document.querySelector(".video-play_btn"),S=document.querySelector(".popup-video-wrap"),b=document.querySelector(".close-video_btn"),g=document.querySelector(".sponsored-floating_quick-links_wrapper"),y=document.querySelector(".sponsored-floating_quick-links"),d=document.querySelector(".active-icon"),l=document.querySelector(".close-icon");p==null||p.forEach(e=>{const c=e.querySelector(".range_negative"),v=e.querySelector(".range_positive"),r=e.querySelector(".range__value");c.addEventListener("click",function(){let _=parseInt(r.value);_>0&&(r.value=_-1)}),v.addEventListener("click",function(){r.value=parseInt(r.value)+1})}),u==null||u.addEventListener("click",function(){h&&(this.classList.add("sponsored-active_btn"),m.classList.remove("sponsored-active_btn"),k.classList.add("toggle-active"),L.classList.remove("toggle-active"))}),m==null||m.addEventListener("click",function(){h&&(this.classList.add("sponsored-active_btn"),u.classList.remove("sponsored-active_btn"),L.classList.add("toggle-active"),k.classList.remove("toggle-active"))}),f==null||f.addEventListener("click",function(){S.classList.add("popup-active")}),b==null||b.addEventListener("click",function(){S.classList.remove("popup-active")}),d==null||d.addEventListener("click",function(){g.classList.add("sponsored-link_active"),this.classList.remove("sponsored-link_active"),l.classList.add("sponsored-link_active")}),l==null||l.addEventListener("click",function(){g.classList.remove("sponsored-link_active"),this.classList.remove("sponsored-link_active"),d.classList.add("sponsored-link_active")}),y==null||y.addEventListener("click",function(){g.classList.remove("sponsored-link_active"),d.classList.add("sponsored-link_active"),l.classList.remove("sponsored-link_active")});/**
 * @package     EmbedPress
 * @author      EmbedPress <help@embedpress.com>
 * @copyright   Copyright (C) 2018 EmbedPress. All rights reserved.
 * @license     GPLv2 or later
 * @since       1.7.0
 */(function(e){var w;var c=wp.i18n.__,v=(w=wp==null?void 0:wp.url)==null?void 0:w.addQueryArgs;e(document).on("click",".embedpress-license-activation-btn",function(a){a.preventDefault();let s=e(this);const i=e("#embedpress-pro-license-key").val();i&&(s.attr("disabled","disabled"),s.html(c("Sending Request.....","embedpress"))),e.ajax({type:"POST",url:ajaxurl,data:{action:"embedpress/license/activate",_nonce:embedpressLicenseData.nonce,license_key:i},success:function(t){var o;t.success?t.data.license==="valid"?r():t.data.license==="required_otp"&&(s.html(c("Verification Required","embedpress")),e("#valid-license-key-message").removeClass("hidden"),e("#email-placeholder").text(t.data.customer_email),e("#embedpress-pro-license-key").attr("disabled","disabled"),e(".embedpress-toast__message.toast__message--success p").text("Verification Code Sent successfully"),e(".toast__message--success").addClass("show-toast"),setTimeout(()=>{e(".toast__message--success").removeClass("show-toast")},2e3),e("#otp-varify-form").removeClass("hidden")):(s.html(c("Active License","embedpress")),s.removeAttr("disabled"),e(".embedpress-toast__message.toast__message--error p").text((o=t==null?void 0:t.data)==null?void 0:o.message),e(".toast__message--error").addClass("show-toast"),setTimeout(()=>{e(".toast__message--error").removeClass("show-toast")},2e3))},error:function(t,o,n){console.error("Error:",o,n)}})}),e(document).on("click",".embedpress-verification-activation-btn",function(a){a.preventDefault();let s=e(this);const i=e("#embedpress-pro-license-key").val(),t=e("#embedpress-pro-verification-key").val();e("#invalid-verification-key-message").addClass("hidden"),i&&(s.attr("disabled","disabled"),s.html(c("Verifying.....","embedpress"))),e.ajax({type:"POST",url:ajaxurl,data:{action:"embedpress/license/submit-otp",_nonce:embedpressLicenseData.nonce,license:i,otp:t},success:function(o){var n;console.log("Success:",o),o.success?(s.html(c("Verified","embedpress")),r()):(s.html("Verify"),s.removeAttr("disabled"),e(".embedpress-toast__message.toast__message--error p").text((n=o==null?void 0:o.data)==null?void 0:n.message),e(".toast__message--error").addClass("show-toast"),setTimeout(()=>{e(".toast__message--error").removeClass("show-toast")},2e3))},error:function(o,n,q){console.error("Error:",n,q)}})}),e(document).on("click","#resend-license-verification-key",function(a){a.preventDefault(),e(this);const s=e("#embedpress-pro-license-key").val();e("#resend-license-verification-key").text(c("Resending","embedpress")),e.ajax({type:"POST",url:ajaxurl,data:{action:"embedpress/license/resend-otp",_nonce:embedpressLicenseData.nonce,license:s},success:function(i){var t;console.log("Success:",i),i.success?(e(".embedpress-toast__message.toast__message--success p").text("Verification Code Resent Successfully."),e(".toast__message--success").addClass("show-toast"),setTimeout(()=>{e(".toast__message--success").removeClass("show-toast")},2e3)):(e(".embedpress-toast__message.toast__message--error p").text((t=i==null?void 0:i.data)==null?void 0:t.message),e(".toast__message--error").addClass("show-toast"),setTimeout(()=>{e(".toast__message--error").removeClass("show-toast")},2e3)),e("#resend-license-verification-key").text(c("Resend","embedpress"))},error:function(i,t,o){console.error("Error:",t,o)}})}),e(document).on("click",".embedpress-license-deactivation-btn",function(a){a.preventDefault();let s=e(this);const i=e("#embedpress-pro-license-key").val();e("#embedpress-pro-verification-key").val(),console.log(i),i&&(s.attr("disabled","disabled"),s.html(c("Deactivating.....","embedpress"))),e.ajax({type:"POST",url:ajaxurl,data:{action:"embedpress/license/deactivate",_nonce:embedpressLicenseData.nonce},success:function(t){console.log("Success:",t),t.success&&_()},error:function(t,o,n){console.error("Error:",o,n)}})});function r(){var a=window.location.href,s=v(a,{success:!0,message:c("License has been activated","embedpress")});window.location.href=s}function _(){var a=window.location.href,s=v(a,{success:!0,message:c("License has been deactivated","embedpress")});window.location.href=s}})(jQuery)})();
