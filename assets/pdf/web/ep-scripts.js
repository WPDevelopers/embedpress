"use strict";const setThemeMode=t=>{const o=document.getElementsByTagName("html")[0];o&&o.setAttribute("ep-data-theme",t)},getParamObj=t=>{let o={},e={};if(location.hash){let n=new URLSearchParams(t.substring(1));null!==n.get("key")&&(n="#"+atob(n.get("key")),n=new URLSearchParams(n.substring(1))),"custom"==n.get("themeMode")&&(e={customColor:n.get("customColor")}),o={themeMode:n.get("themeMode"),...e,presentation:n.get("presentation"),lazyLoad:n.get("lazyLoad"),copy_text:n.get("copy_text"),add_text:n.get("add_text"),draw:n.get("draw"),add_image:n.get("add_image"),position:n.get("position"),download:n.get("download"),toolbar:n.get("toolbar"),doc_details:n.get("pdf_details"),doc_rotation:n.get("pdf_rotation"),selection_tool:n.get("selection_tool"),scrolling:n.get("scrolling"),spreads:n.get("spreads"),is_pro_active:n.get("is_pro_active")},"true"!==n.get("download")&&"yes"!==n.get("download")&&window.addEventListener("beforeunload",function(t){t.stopImmediatePropagation()})}return o},isDisplay=t=>"false"==t||0==t?"none":"block",adjustHexColor=(t,o)=>{const e=parseInt(t.slice(1,3),16),n=parseInt(t.slice(3,5),16),r=parseInt(t.slice(5,7),16),a=Math.round(o/100*255);return"#"+((1<<24)+(Math.max(Math.min(e+a,255),0)<<16)+(Math.max(Math.min(n+a,255),0)<<8)+Math.max(Math.min(r+a,255),0)).toString(16).slice(1)},getColorBrightness=t=>{const o=parseInt(t.slice(1,3),16),e=parseInt(t.slice(3,5),16),n=parseInt(t.slice(5,7),16),r=(Math.max(o,e,n)+Math.min(o,e,n))/2;return Math.round(r/255*100)},pdfIframeStyle=t=>{if(Object.values(t).every(t=>null===t))return!1;let o="";!1!==t.toolbar&&"false"!=t.toolbar||(t.presentation=!1,t.download=!0,t.copy_text=!0,t.add_text=!0,t.draw=!0,t.doc_details=!1,t.doc_rotation=!1,t.add_image=!1);let e="top",n=isDisplay(t.toolbar),r=isDisplay(t.presentation),a=isDisplay(t.download),l=isDisplay(t.copy_text),s=isDisplay(t.add_text),d=isDisplay(t.draw);"block"!==l&&"true"!=l&&1!=l||(l="text");let i=isDisplay(t.doc_details),c=isDisplay(t.doc_rotation),m=isDisplay(t.add_image);const p=document.getElementsByTagName("head")[0],u=document.createElement("style");u.setAttribute("id","EBiframeStyleID");let g="";if("custom"==t.themeMode){t.customColor||(t.customColor="#38383d");let o="white";getColorBrightness(t.customColor)>60&&(o="black"),g=`    \n        [ep-data-theme="custom"] {\n            --body-bg-color: ${t.customColor};\n            --toolbar-bg-color: ${adjustHexColor(t.customColor,15)};\n            --doorhanger-bg-color: ${t.customColor};\n            --field-bg-color: ${t.customColor};\n            --dropdown-btn-bg-color: ${t.customColor};\n            --button-hover-color: ${adjustHexColor(t.customColor,25)};\n            --toggled-btn-bg-color: ${adjustHexColor(t.customColor,25)};\n            --doorhanger-hover-bg-color: ${adjustHexColor(t.customColor,20)};\n            --toolbar-border-color: ${adjustHexColor(t.customColor,10)};\n            --doorhanger-border-color: ${adjustHexColor(t.customColor,10)};\n            --doorhanger-border-color-whcm: ${adjustHexColor(t.customColor,10)};\n            --separator-color: ${adjustHexColor(t.customColor,10)};\n            --doorhanger-separator-color: ${adjustHexColor(t.customColor,15)};\n            --toolbar-icon-bg-color: ${o};\n            --toolbar-icon-bg-color: ${o};\n            --main-color: ${o};\n            --field-color: ${o};\n            --doorhanger-hover-color: ${o};\n            --toolbar-icon-hover-bg-color: ${o};\n            --toggled-btn-color: ${o};\n\n        }`}"top"===t.position?(e="top:0;bottom:auto;",o=""):(e="bottom:0;top:auto;",o="\n        .findbar, .secondaryToolbar {\n            top: auto;bottom: 32px;\n        }\n        .doorHangerRight:after{\n            transform: rotate(180deg);\n            bottom: -16px;\n        }\n         .doorHangerRight:before {\n            transform: rotate(180deg);\n            bottom: -18px;\n        }\n\n        .findbar.doorHanger:before {\n            bottom: -18px;\n            transform: rotate(180deg);\n        }\n        .findbar.doorHanger:after {\n            bottom: -16px;\n            transform: rotate(180deg);\n        }\n\n        div#editorInkParamsToolbar, #editorFreeTextParamsToolbar {\n            bottom: 32px;\n            top: auto; \n        }\n        #mainContainer {\n            top: -40px!important;\n        }\n    "),u.textContent=`\n        .toolbar{\n            display: ${n}!important;\n            position: absolute;\n            ${e}\n        }\n        #secondaryToolbar{\n            display: ${n};\n        }\n        #secondaryPresentationMode, #toolbarViewerRight #presentationMode{\n            display: ${r}!important;\n        }\n        #secondaryOpenFile, #toolbarViewerRight #openFile{\n            display: none!important;\n        }\n        #secondaryDownload, #secondaryPrint, #print, #download{\n            display: ${a}!important;\n        }\n        #pageRotateCw{\n            display: ${c}!important;\n        }\n        #editorStamp{\n            display: ${m}!important;\n        }\n        #pageRotateCcw{\n            display: ${c}!important;\n        }\n        #documentProperties{\n            display: ${i}!important;\n        }\n        .textLayer{\n            user-select: ${l}!important;\n            -webkit-user-select: ${l}!important;\n            -moz-user-select: ${l}!important;   \n            -ms-user-select: ${l}!important;    \n        }\n        button#cursorSelectTool{\n            display: ${l}!important;\n        }\n\n        #editorFreeText{\n            display: ${s}!important;\n        }\n        #editorInk{\n            display: ${d}!important;\n        }\n\n        ${g}\n\n        ${o}\n    `,p&&(document.getElementById("EBiframeStyleID")&&document.getElementById("EBiframeStyleID").remove(),p.appendChild(u))},manupulatePDFIframe=t=>{let o=new URL(t.newURL),e=getParamObj(o.hash);pdfIframeStyle(e),setThemeMode(e.themeMode)};window.addEventListener("hashchange",t=>{manupulatePDFIframe(t)},!1);let data=getParamObj(location.hash);if(pdfIframeStyle(data),setThemeMode(data.themeMode),document.querySelector(".presentationMode")?.addEventListener("click",function(){var t=document.getElementById("mainContainer");t&&!document.fullscreenElement?t.requestFullscreen().catch(t=>{alert(`Error attempting to enable full-screen mode: ${t.message} (${t.name})`)}):document.exitFullscreen&&document.exitFullscreen()}),document.getElementById("viewBookmark")?.addEventListener("click",t=>{t.preventDefault();const o=t.target.getAttribute("href");null!==o&&alert(`Current Page: ${o}`)}),!1===data.lazyLoad||"false"==data.lazyLoad)document.querySelector("html").style.opacity="1";else{function t(){document.querySelector(".pdfViewer").innerHTML.trim()&&(document.querySelector("html").style.opacity="1",document.querySelector("html").style.transition="500ms",clearInterval(o))}const o=setInterval(t,100);t()}